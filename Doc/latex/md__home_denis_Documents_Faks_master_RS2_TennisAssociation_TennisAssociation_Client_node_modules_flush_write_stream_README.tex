A write stream constructor that supports a flush function that is called before {\ttfamily finish} is emitted


\begin{DoxyCode}{0}
\DoxyCodeLine{npm install flush-\/write-\/stream}

\end{DoxyCode}


\href{http://travis-ci.org/mafintosh/flush-write-stream}{\texttt{ }}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7399}{}\doxysection{Usage}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7399}

\begin{DoxyCode}{0}
\DoxyCodeLine{var writer = require('flush-\/write-\/stream')}
\DoxyCodeLine{}
\DoxyCodeLine{var ws = writer(write, flush)}
\DoxyCodeLine{}
\DoxyCodeLine{ws.on('finish', function () \{}
\DoxyCodeLine{  console.log('finished')}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{ws.write('hello')}
\DoxyCodeLine{ws.write('world')}
\DoxyCodeLine{ws.end()}
\DoxyCodeLine{}
\DoxyCodeLine{function write (data, enc, cb) \{}
\DoxyCodeLine{  // i am your normal .\_write method}
\DoxyCodeLine{  console.log('writing', data.toString())}
\DoxyCodeLine{  cb()}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{function flush (cb) \{}
\DoxyCodeLine{  // i am called before finish is emitted}
\DoxyCodeLine{  setTimeout(cb, 1000) // wait 1 sec}
\DoxyCodeLine{\}}

\end{DoxyCode}


If you run the above it will produce the following output


\begin{DoxyCode}{0}
\DoxyCodeLine{writing hello}
\DoxyCodeLine{writing world}
\DoxyCodeLine{(nothing happens for 1 sec)}
\DoxyCodeLine{finished}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7400}{}\doxysection{API}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7400}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7401}{}\doxysubsubsection{$<$tt$>$var ws = writer(\mbox{[}options\mbox{]}, write, \mbox{[}flush\mbox{]})$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7401}
Create a new writable stream. Options are forwarded to the stream constructor.\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7402}{}\doxysubsubsection{$<$tt$>$var ws = writer.\+obj(\mbox{[}options\mbox{]}, write, \mbox{[}flush\mbox{]})$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7402}
Same as the above except {\ttfamily object\+Mode} is set to {\ttfamily true} per default.\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7403}{}\doxysection{License}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules_flush_write_stream_README_autotoc_md7403}
MIT 