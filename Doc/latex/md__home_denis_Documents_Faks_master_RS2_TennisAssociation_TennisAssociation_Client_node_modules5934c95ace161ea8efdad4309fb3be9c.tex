\href{https://npm.im/libnpmhook}{\texttt{ }} \href{https://npm.im/libnpmhook}{\texttt{ }} \href{https://coveralls.io/github/npm/libnpmhook?branch=latest}{\texttt{ }}

\href{https://github.com/npm/libnpmhook}{\texttt{ {\ttfamily libnpmhook}}} is a Node.\+js library for programmatically managing the npm registry\textquotesingle{}s server-\/side hooks.

For a more general introduction to managing hooks, see \href{https://blog.npmjs.org/post/145260155635/introducing-hooks-get-notifications-of-npm}{\texttt{ the introductory blog post}}.\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16678}{}\doxysection{Table of Contents}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16678}

\begin{DoxyItemize}
\item \href{\#example}{\texttt{ Example}}
\item \href{\#install}{\texttt{ Install}}
\item \href{\#contributing}{\texttt{ Contributing}}
\item \href{\#api}{\texttt{ API}}
\begin{DoxyItemize}
\item \href{\#opts}{\texttt{ hook opts}}
\item \href{\#add}{\texttt{ {\ttfamily add()}}}
\item \href{\#rm}{\texttt{ {\ttfamily rm()}}}
\item \href{\#ls}{\texttt{ {\ttfamily ls()}}}
\item \href{\#ls-stream}{\texttt{ {\ttfamily ls.\+stream()}}}
\item \href{\#update}{\texttt{ {\ttfamily update()}}}
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16679}{}\doxysection{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16679}

\begin{DoxyCode}{0}
\DoxyCodeLine{const hooks = require('libnpmhook')}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(await hooks.ls('mypkg', \{token: 'deadbeef'\}))}
\DoxyCodeLine{// array of hook objects on `mypkg`.}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16680}{}\doxysection{Install}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16680}
{\ttfamily \$ npm install libnpmhook}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16681}{}\doxysubsection{API}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16681}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16682}{}\doxysubsubsection{$<$a name=\char`\"{}opts\char`\"{}$>$$<$/a$>$ $<$tt$>$opts$<$/tt$>$ for $<$tt$>$libnpmhook$<$/tt$>$ commands}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16682}
{\ttfamily libnpmhook} uses \href{https://npm.im/npm-registry-fetch}{\texttt{ {\ttfamily npm-\/registry-\/fetch}}}. All options are passed through directly to that library, so please refer to \mbox{[}its own {\ttfamily opts} documentation\mbox{]}(\href{https://www.npmjs.com/package/npm-registry-fetch\#fetch-options}{\texttt{ https\+://www.\+npmjs.\+com/package/npm-\/registry-\/fetch\#fetch-\/options}}) for options that can be passed in.

A couple of options of note for those in a hurry\+:


\begin{DoxyItemize}
\item {\ttfamily opts.\+token} -\/ can be passed in and will be used as the authentication token for the registry. For other ways to pass in auth details, see the n-\/r-\/f docs.
\item {\ttfamily opts.\+otp} -\/ certain operations will require an OTP token to be passed in. If a {\ttfamily libnpmhook} command fails with {\ttfamily err.\+code === EOTP}, please retry the request with {\ttfamily \{otp\+: $<$2fa token$>$\}}
\end{DoxyItemize}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16683}{}\doxysubsubsection{$<$a name=\char`\"{}add\char`\"{}$>$$<$/a$>$ $<$tt$>$$>$ hooks.\+add(name, endpoint, secret, \mbox{[}opts\mbox{]}) -\/$>$ Promise$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16683}
{\ttfamily name} is the name of the package, org, or user/org scope to watch. The type is determined by the name syntax\+: `'@foo/bar\textquotesingle{}{\ttfamily and}\textquotesingle{}foo\textquotesingle{}{\ttfamily are treated as packages, }@foo{\ttfamily is treated as a scope, and}$\sim$user\`{} is treated as an org name or scope. Each type will attach to different events.

The {\ttfamily endpoint} should be a fully-\/qualified http URL for the endpoint the hook will send its payload to when it fires. {\ttfamily secret} is a shared secret that the hook will send to that endpoint to verify that it\textquotesingle{}s actually coming from the registry hook.

The returned Promise resolves to the full hook object that was created, including its generated {\ttfamily id}.

See also\+: \href{https://github.com/npm/registry/blob/master/docs/hooks/endpoints.md\#post-v1hookshook}{\texttt{ {\ttfamily POST /v1/hooks/hook}}}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16684}{}\doxyparagraph{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16684}

\begin{DoxyCode}{0}
\DoxyCodeLine{await hooks.add('\string~zkat', 'https://example.com/api/added', 'supersekrit', \{}
\DoxyCodeLine{  token: 'myregistrytoken',}
\DoxyCodeLine{  otp: '694207'}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{=>}
\DoxyCodeLine{}
\DoxyCodeLine{\{ id: '16f7xoal',}
\DoxyCodeLine{  username: 'zkat',}
\DoxyCodeLine{  name: 'zkat',}
\DoxyCodeLine{  endpoint: 'https://example.com/api/added',}
\DoxyCodeLine{  secret: 'supersekrit',}
\DoxyCodeLine{  type: 'owner',}
\DoxyCodeLine{  created: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  updated: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  deleted: false,}
\DoxyCodeLine{  delivered: false,}
\DoxyCodeLine{  last\_delivery: null,}
\DoxyCodeLine{  response\_code: 0,}
\DoxyCodeLine{  status: 'active' \}}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16685}{}\doxysubsubsection{$<$a name=\char`\"{}find\char`\"{}$>$$<$/a$>$ $<$tt$>$$>$ hooks.\+find(id, \mbox{[}opts\mbox{]}) -\/$>$ Promise$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16685}
Returns the hook identified by {\ttfamily id}.

The returned Promise resolves to the full hook object that was found, or error with {\ttfamily err.\+code} of `\textquotesingle{}E404'\`{} if it didn\textquotesingle{}t exist.

See also\+: \href{https://github.com/npm/registry/blob/master/docs/hooks/endpoints.md\#get-v1hookshookid}{\texttt{ {\ttfamily GET /v1/hooks/hook/\+:id}}}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16686}{}\doxyparagraph{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16686}

\begin{DoxyCode}{0}
\DoxyCodeLine{await hooks.find('16f7xoal', \{token: 'myregistrytoken'\})}
\DoxyCodeLine{}
\DoxyCodeLine{=>}
\DoxyCodeLine{}
\DoxyCodeLine{\{ id: '16f7xoal',}
\DoxyCodeLine{  username: 'zkat',}
\DoxyCodeLine{  name: 'zkat',}
\DoxyCodeLine{  endpoint: 'https://example.com/api/added',}
\DoxyCodeLine{  secret: 'supersekrit',}
\DoxyCodeLine{  type: 'owner',}
\DoxyCodeLine{  created: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  updated: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  deleted: false,}
\DoxyCodeLine{  delivered: false,}
\DoxyCodeLine{  last\_delivery: null,}
\DoxyCodeLine{  response\_code: 0,}
\DoxyCodeLine{  status: 'active' \}}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16687}{}\doxysubsubsection{$<$a name=\char`\"{}rm\char`\"{}$>$$<$/a$>$ $<$tt$>$$>$ hooks.\+rm(id, \mbox{[}opts\mbox{]}) -\/$>$ Promise$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16687}
Removes the hook identified by {\ttfamily id}.

The returned Promise resolves to the full hook object that was removed, if it existed, or {\ttfamily null} if no such hook was there (instead of erroring).

See also\+: \href{https://github.com/npm/registry/blob/master/docs/hooks/endpoints.md\#delete-v1hookshookid}{\texttt{ {\ttfamily DELETE /v1/hooks/hook/\+:id}}}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16688}{}\doxyparagraph{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16688}

\begin{DoxyCode}{0}
\DoxyCodeLine{await hooks.rm('16f7xoal', \{}
\DoxyCodeLine{  token: 'myregistrytoken',}
\DoxyCodeLine{  otp: '694207'}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{=>}
\DoxyCodeLine{}
\DoxyCodeLine{\{ id: '16f7xoal',}
\DoxyCodeLine{  username: 'zkat',}
\DoxyCodeLine{  name: 'zkat',}
\DoxyCodeLine{  endpoint: 'https://example.com/api/added',}
\DoxyCodeLine{  secret: 'supersekrit',}
\DoxyCodeLine{  type: 'owner',}
\DoxyCodeLine{  created: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  updated: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  deleted: true,}
\DoxyCodeLine{  delivered: false,}
\DoxyCodeLine{  last\_delivery: null,}
\DoxyCodeLine{  response\_code: 0,}
\DoxyCodeLine{  status: 'active' \}}
\DoxyCodeLine{}
\DoxyCodeLine{// Repeat it...}
\DoxyCodeLine{await hooks.rm('16f7xoal', \{}
\DoxyCodeLine{  token: 'myregistrytoken',}
\DoxyCodeLine{  otp: '694207'}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{=> null}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16689}{}\doxysubsubsection{$<$a name=\char`\"{}update\char`\"{}$>$$<$/a$>$ $<$tt$>$$>$ hooks.\+update(id, endpoint, secret, \mbox{[}opts\mbox{]}) -\/$>$ Promise$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16689}
The {\ttfamily id} should be a hook ID from a previously-\/created hook.

The {\ttfamily endpoint} should be a fully-\/qualified http URL for the endpoint the hook will send its payload to when it fires. {\ttfamily secret} is a shared secret that the hook will send to that endpoint to verify that it\textquotesingle{}s actually coming from the registry hook.

The returned Promise resolves to the full hook object that was updated, if it existed. Otherwise, it will error with an `\textquotesingle{}E404'\`{} error code.

See also\+: \href{https://github.com/npm/registry/blob/master/docs/hooks/endpoints.md\#put-v1hookshookid}{\texttt{ {\ttfamily PUT /v1/hooks/hook/\+:id}}}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16690}{}\doxyparagraph{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16690}

\begin{DoxyCode}{0}
\DoxyCodeLine{await hooks.update('16fxoal', 'https://example.com/api/other', 'newsekrit', \{}
\DoxyCodeLine{  token: 'myregistrytoken',}
\DoxyCodeLine{  otp: '694207'}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{=>}
\DoxyCodeLine{}
\DoxyCodeLine{\{ id: '16f7xoal',}
\DoxyCodeLine{  username: 'zkat',}
\DoxyCodeLine{  name: 'zkat',}
\DoxyCodeLine{  endpoint: 'https://example.com/api/other',}
\DoxyCodeLine{  secret: 'newsekrit',}
\DoxyCodeLine{  type: 'owner',}
\DoxyCodeLine{  created: '2018-\/08-\/21T20:05:25.125Z',}
\DoxyCodeLine{  updated: '2018-\/08-\/21T20:14:41.964Z',}
\DoxyCodeLine{  deleted: false,}
\DoxyCodeLine{  delivered: false,}
\DoxyCodeLine{  last\_delivery: null,}
\DoxyCodeLine{  response\_code: 0,}
\DoxyCodeLine{  status: 'active' \}}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16691}{}\doxysubsubsection{$<$a name=\char`\"{}ls\char`\"{}$>$$<$/a$>$ $<$tt$>$$>$ hooks.\+ls(\mbox{[}opts\mbox{]}) -\/$>$ Promise$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16691}
Resolves to an array of hook objects associated with the account you\textquotesingle{}re authenticated as.

Results can be further filtered with three values that can be passed in through {\ttfamily opts}\+:


\begin{DoxyItemize}
\item {\ttfamily opts.\+package} -\/ filter results by package name
\item {\ttfamily opts.\+limit} -\/ maximum number of hooks to return
\item {\ttfamily opts.\+offset} -\/ pagination offset for results (use with {\ttfamily opts.\+limit})
\end{DoxyItemize}

See also\+:
\begin{DoxyItemize}
\item \href{\#ls-stream}{\texttt{ {\ttfamily hooks.\+ls.\+stream()}}}
\item \href{https://github.com/npm/registry/blob/master/docs/hooks/endpoints.md\#get-v1hooks}{\texttt{ {\ttfamily GET /v1/hooks}}}
\end{DoxyItemize}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16692}{}\doxyparagraph{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16692}

\begin{DoxyCode}{0}
\DoxyCodeLine{await hooks.ls(\{token: 'myregistrytoken'\})}
\DoxyCodeLine{}
\DoxyCodeLine{=>}
\DoxyCodeLine{[}
\DoxyCodeLine{  \{ id: '16f7xoal', ... \},}
\DoxyCodeLine{  \{ id: 'wnyf98a1', ... \},}
\DoxyCodeLine{  ...}
\DoxyCodeLine{]}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16693}{}\doxysubsubsection{$<$a name=\char`\"{}ls-\/stream\char`\"{}$>$$<$/a$>$ $<$tt$>$$>$ hooks.\+ls.\+stream(\mbox{[}opts\mbox{]}) -\/$>$ Stream$<$/tt$>$}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16693}
Returns a stream of hook objects associated with the account you\textquotesingle{}re authenticated as. The returned stream is a valid {\ttfamily Symbol.\+async\+Iterator} on {\ttfamily node@$>$=10}.

Results can be further filtered with three values that can be passed in through {\ttfamily opts}\+:


\begin{DoxyItemize}
\item {\ttfamily opts.\+package} -\/ filter results by package name
\item {\ttfamily opts.\+limit} -\/ maximum number of hooks to return
\item {\ttfamily opts.\+offset} -\/ pagination offset for results (use with {\ttfamily opts.\+limit})
\end{DoxyItemize}

See also\+:
\begin{DoxyItemize}
\item \href{\#ls}{\texttt{ {\ttfamily hooks.\+ls()}}}
\item \href{https://github.com/npm/registry/blob/master/docs/hooks/endpoints.md\#get-v1hooks}{\texttt{ {\ttfamily GET /v1/hooks}}}
\end{DoxyItemize}\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16694}{}\doxyparagraph{Example}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules5934c95ace161ea8efdad4309fb3be9c_autotoc_md16694}

\begin{DoxyCode}{0}
\DoxyCodeLine{for await (let hook of hooks.ls.stream(\{token: 'myregistrytoken'\})) \{}
\DoxyCodeLine{  console.log('found hook:', hook.id)}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{=>}
\DoxyCodeLine{// outputs:}
\DoxyCodeLine{// found hook: 16f7xoal}
\DoxyCodeLine{// found hook: wnyf98a1}

\end{DoxyCode}
 