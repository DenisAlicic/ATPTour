Parse a JSON string that has git merge conflicts, resolving if possible.

If the JSON is valid, it just does {\ttfamily JSON.\+parse} as normal.

If either side of the conflict is invalid JSON, then an error is thrown for that.\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules0b612a2474d2f865255f8bb811a22dfe_autotoc_md15772}{}\doxysection{USAGE}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules0b612a2474d2f865255f8bb811a22dfe_autotoc_md15772}

\begin{DoxyCode}{0}
\DoxyCodeLine{// after a git merge that left some conflicts there}
\DoxyCodeLine{const data = fs.readFileSync('package-\/lock.json', 'utf8')}
\DoxyCodeLine{}
\DoxyCodeLine{// reviverFunction is passed to JSON.parse as the reviver function}
\DoxyCodeLine{// preference defaults to 'ours', set to 'theirs' to prefer the other}
\DoxyCodeLine{// side's changes.}
\DoxyCodeLine{const parsed = parseConflictJson(data, reviverFunction, preference)}
\DoxyCodeLine{}
\DoxyCodeLine{// returns true if the data looks like a conflicted diff file}
\DoxyCodeLine{parsed.isDiff(data)}

\end{DoxyCode}
\hypertarget{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules0b612a2474d2f865255f8bb811a22dfe_autotoc_md15773}{}\doxysection{Algorithm}\label{md__home_denis_Documents_Faks_master_RS2_TennisAssociation_TennisAssociation_Client_node_modules0b612a2474d2f865255f8bb811a22dfe_autotoc_md15773}
If {\ttfamily prefer} is set to {\ttfamily theirs}, then the vaules of {\ttfamily theirs} and {\ttfamily ours} are switched in the resolver function. (Ie, we\textquotesingle{}ll apply their changes on top of our object, rather than the other way around.)


\begin{DoxyItemize}
\item Parse the conflicted file into 3 pieces\+: {\ttfamily ours}, {\ttfamily theirs}, and {\ttfamily parent}
\item Get the \href{https://github.com/angus-c/just\#just-diff}{\texttt{ diff}} from {\ttfamily parent} to {\ttfamily ours}.
\item \href{https://github.com/angus-c/just\#just-diff-apply}{\texttt{ Apply}} each change of that diff to {\ttfamily theirs}.

If any change in the diff set cannot be applied (ie, because they changed an object into a non-\/object and we changed a field on that object), then replace the object at the specified path with the object at the path in {\ttfamily ours}. 
\end{DoxyItemize}