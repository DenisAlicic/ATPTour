Part of a \href{../../../../}{\texttt{ library}} of zero-\/dependency npm modules that do just do one thing. Guilt-\/free utilities for every occasion.

\href{http://anguscroll.com/just/just-diff-apply}{\texttt{ Try it now}}

Apply a diff object to an object. Pass converter to apply a \href{http://jsonpatch.com}{\texttt{ http\+://jsonpatch.\+com}} standard patch


\begin{DoxyCode}{0}
\DoxyCodeLine{import diffApply from 'just-\/diff-\/apply';}
\DoxyCodeLine{}
\DoxyCodeLine{const obj1 = \{a: 3, b: 5\};}
\DoxyCodeLine{diffApply(obj1,}
\DoxyCodeLine{  [}
\DoxyCodeLine{    \{ "{}op"{}: "{}remove"{}, "{}path"{}: ['b'] \},}
\DoxyCodeLine{    \{ "{}op"{}: "{}replace"{}, "{}path"{}: ['a'], "{}value"{}: 4 \},}
\DoxyCodeLine{    \{ "{}op"{}: "{}add"{}, "{}path"{}: ['c'], "{}value"{}: 5 \}}
\DoxyCodeLine{  ]}
\DoxyCodeLine{);}
\DoxyCodeLine{obj1; // \{a: 4, c: 5\}}
\DoxyCodeLine{}
\DoxyCodeLine{// using converter to apply jsPatch standard paths}
\DoxyCodeLine{// see http://jsonpatch.com}
\DoxyCodeLine{import \{diffApply, jsonPatchPathConverter\} from 'just-\/diff-\/apply'}
\DoxyCodeLine{const obj2 = \{a: 3, b: 5\};}
\DoxyCodeLine{diffApply(obj2, [}
\DoxyCodeLine{  \{ "{}op"{}: "{}remove"{}, "{}path"{}: '/b' \},}
\DoxyCodeLine{  \{ "{}op"{}: "{}replace"{}, "{}path"{}: '/a', "{}value"{}: 4 \}}
\DoxyCodeLine{  \{ "{}op"{}: "{}add"{}, "{}path"{}: '/c', "{}value"{}: 5 \}}
\DoxyCodeLine{], jsonPatchPathConverter);}
\DoxyCodeLine{obj2; // \{a: 4, c: 5\}}
\DoxyCodeLine{}
\DoxyCodeLine{// arrays (array key can be string or numeric)}
\DoxyCodeLine{const obj3 = \{a: 4, b: [1, 2, 3]\};}
\DoxyCodeLine{diffApply(obj3, [}
\DoxyCodeLine{  \{ "{}op"{}: "{}replace"{}, "{}path"{}: ['a'], "{}value"{}: 3 \}}
\DoxyCodeLine{  \{ "{}op"{}: "{}replace"{}, "{}path"{}: ['b', 2], "{}value"{}: 4 \}}
\DoxyCodeLine{  \{ "{}op"{}: "{}add"{}, "{}path"{}: ['b', 3], "{}value"{}: 9 \}}
\DoxyCodeLine{]);}
\DoxyCodeLine{obj3; // \{a: 3, b: [1, 2, 4, 9]\}}
\DoxyCodeLine{}
\DoxyCodeLine{// nested paths}
\DoxyCodeLine{const obj4 = \{a: 4, b: \{c: 3\}\};}
\DoxyCodeLine{diffApply(obj4, [}
\DoxyCodeLine{  \{ "{}op"{}: "{}replace"{}, "{}path"{}: ['a'], "{}value"{}: 5 \}}
\DoxyCodeLine{  \{ "{}op"{}: "{}remove"{}, "{}path"{}: ['b', 'c']\}}
\DoxyCodeLine{  \{ "{}op"{}: "{}add"{}, "{}path"{}: ['b', 'd'], "{}value"{}: 4 \}}
\DoxyCodeLine{]);}
\DoxyCodeLine{obj4; // \{a: 5, b: \{d: 4\}\}}

\end{DoxyCode}
 