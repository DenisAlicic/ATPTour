<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tennis Association: npmlog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tennis Association
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle">
<div class="title">npmlog </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class="">The logger util that npm uses.</p>
<p class="">This logger is very basic. It does the logging for npm. It supports custom levels and colored output.</p>
<p class="">By default, logs are written to stderr. If you want to send log messages to outputs other than streams, then you can change the <code>log.stream</code> member, or you can just listen to the events that it emits, and do whatever you want with them.</p>
<h1><a class="anchor" id="autotoc_md13587"></a>
Installation</h1>
<div class="fragment"><div class="line">npm install npmlog --save</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13588"></a>
Basic Usage</h1>
<div class="fragment"><div class="line">var log = require(&#39;npmlog&#39;)</div>
<div class="line"> </div>
<div class="line">// additional stuff ---------------------------+</div>
<div class="line">// message ----------+                         |</div>
<div class="line">// prefix ----+      |                         |</div>
<div class="line">// level -+   |      |                         |</div>
<div class="line">//        v   v      v                         v</div>
<div class="line">    log.info(&#39;fyi&#39;, &#39;I have a kitty cat: %j&#39;, myKittyCat)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13589"></a>
log.level</h2>
<ul>
<li>{String}</li>
</ul>
<p class="">The level to display logs at. Any logs at or above this level will be displayed. The special level <code>silent</code> will prevent anything from being displayed ever.</p>
<h2><a class="anchor" id="autotoc_md13590"></a>
log.record</h2>
<ul>
<li>{Array}</li>
</ul>
<p class="">An array of all the log messages that have been entered.</p>
<h2><a class="anchor" id="autotoc_md13591"></a>
log.maxRecordSize</h2>
<ul>
<li>{Number}</li>
</ul>
<p class="">The maximum number of records to keep. If log.record gets bigger than 10% over this value, then it is sliced down to 90% of this value.</p>
<p class="">The reason for the 10% window is so that it doesn't have to resize a large array on every log entry.</p>
<h2><a class="anchor" id="autotoc_md13592"></a>
log.prefixStyle</h2>
<ul>
<li>{Object}</li>
</ul>
<p class="">A style object that specifies how prefixes are styled. (See below)</p>
<h2><a class="anchor" id="autotoc_md13593"></a>
log.headingStyle</h2>
<ul>
<li>{Object}</li>
</ul>
<p class="">A style object that specifies how the heading is styled. (See below)</p>
<h2><a class="anchor" id="autotoc_md13594"></a>
log.heading</h2>
<ul>
<li>{String} Default: ""</li>
</ul>
<p class="">If set, a heading that is printed at the start of every line.</p>
<h2><a class="anchor" id="autotoc_md13595"></a>
log.stream</h2>
<ul>
<li>{Stream} Default: <code>process.stderr</code></li>
</ul>
<p class="">The stream where output is written.</p>
<h2><a class="anchor" id="autotoc_md13596"></a>
log.enableColor()</h2>
<p class="">Force colors to be used on all messages, regardless of the output stream.</p>
<h2><a class="anchor" id="autotoc_md13597"></a>
log.disableColor()</h2>
<p class="">Disable colors on all messages.</p>
<h2><a class="anchor" id="autotoc_md13598"></a>
log.enableProgress()</h2>
<p class="">Enable the display of log activity spinner and progress bar</p>
<h2><a class="anchor" id="autotoc_md13599"></a>
log.disableProgress()</h2>
<p class="">Disable the display of a progress bar</p>
<h2><a class="anchor" id="autotoc_md13600"></a>
log.enableUnicode()</h2>
<p class="">Force the unicode theme to be used for the progress bar.</p>
<h2><a class="anchor" id="autotoc_md13601"></a>
log.disableUnicode()</h2>
<p class="">Disable the use of unicode in the progress bar.</p>
<h2><a class="anchor" id="autotoc_md13602"></a>
log.setGaugeTemplate(template)</h2>
<p class="">Set a template for outputting the progress bar. See the <a href="https://npmjs.com/package/gauge">gauge documentation</a> for details.</p>
<h2><a class="anchor" id="autotoc_md13603"></a>
log.setGaugeThemeset(themes)</h2>
<p class="">Select a themeset to pick themes from for the progress bar. See the <a href="https://npmjs.com/package/gauge">gauge documentation</a> for details.</p>
<h2><a class="anchor" id="autotoc_md13604"></a>
log.pause()</h2>
<p class="">Stop emitting messages to the stream, but do not drop them.</p>
<h2><a class="anchor" id="autotoc_md13605"></a>
log.resume()</h2>
<p class="">Emit all buffered messages that were written while paused.</p>
<h2><a class="anchor" id="autotoc_md13606"></a>
log.log(level, prefix, message, ...)</h2>
<ul>
<li><code>level</code> {String} The level to emit the message at</li>
<li><code>prefix</code> {String} A string prefix. Set to "" to skip.</li>
<li><code>message...</code> Arguments to <code>util.format</code></li>
</ul>
<p class="">Emit a log message at the specified level.</p>
<h2><a class="anchor" id="autotoc_md13607"></a>
log[level](prefix, message, ...)</h2>
<p class="">For example,</p>
<ul>
<li>log.silly(prefix, message, ...)</li>
<li>log.verbose(prefix, message, ...)</li>
<li>log.info(prefix, message, ...)</li>
<li>log.http(prefix, message, ...)</li>
<li>log.warn(prefix, message, ...)</li>
<li>log.error(prefix, message, ...)</li>
</ul>
<p class="">Like <code>log.log(level, prefix, message, ...)</code>. In this way, each level is given a shorthand, so you can do <code>log.info(prefix, message)</code>.</p>
<h2><a class="anchor" id="autotoc_md13608"></a>
log.addLevel(level, n, style, disp)</h2>
<ul>
<li><code>level</code> {String} Level indicator</li>
<li><code>n</code> {Number} The numeric level</li>
<li><code>style</code> {Object} Object with fg, bg, inverse, etc.</li>
<li><code>disp</code> {String} Optional replacement for <code>level</code> in the output.</li>
</ul>
<p class="">Sets up a new level with a shorthand function and so forth.</p>
<p class="">Note that if the number is <code>Infinity</code>, then setting the level to that will cause all log messages to be suppressed. If the number is <code>-Infinity</code>, then the only way to show it is to enable all log messages.</p>
<h2><a class="anchor" id="autotoc_md13609"></a>
log.newItem(name, todo, weight)</h2>
<ul>
<li><code>name</code> {String} Optional; progress item name.</li>
<li><code>todo</code> {Number} Optional; total amount of work to be done. Default 0.</li>
<li><code>weight</code> {Number} Optional; the weight of this item relative to others. Default 1.</li>
</ul>
<p class="">This adds a new <code>are-we-there-yet</code> item tracker to the progress tracker. The object returned has the <code>log[level]</code> methods but is otherwise an <code>are-we-there-yet</code> <code>Tracker</code> object.</p>
<h2><a class="anchor" id="autotoc_md13610"></a>
log.newStream(name, todo, weight)</h2>
<p class="">This adds a new <code>are-we-there-yet</code> stream tracker to the progress tracker. The object returned has the <code>log[level]</code> methods but is otherwise an <code>are-we-there-yet</code> <code>TrackerStream</code> object.</p>
<h2><a class="anchor" id="autotoc_md13611"></a>
log.newGroup(name, weight)</h2>
<p class="">This adds a new <code>are-we-there-yet</code> tracker group to the progress tracker. The object returned has the <code>log[level]</code> methods but is otherwise an <code>are-we-there-yet</code> <code>TrackerGroup</code> object.</p>
<h1><a class="anchor" id="autotoc_md13612"></a>
Events</h1>
<p class="">Events are all emitted with the message object.</p>
<ul>
<li><code>log</code> Emitted for all messages</li>
<li><code>log.&lt;level&gt;</code> Emitted for all messages with the <code>&lt;level&gt;</code> level.</li>
<li><code>&lt;prefix&gt;</code> Messages with prefixes also emit their prefix as an event.</li>
</ul>
<h1><a class="anchor" id="autotoc_md13613"></a>
Style Objects</h1>
<p class="">Style objects can have the following fields:</p>
<ul>
<li><code>fg</code> {String} Color for the foreground text</li>
<li><code>bg</code> {String} Color for the background</li>
<li><code>bold</code>, <code>inverse</code>, <code>underline</code> {Boolean} Set the associated property</li>
<li><code>bell</code> {Boolean} Make a noise (This is pretty annoying, probably.)</li>
</ul>
<h1><a class="anchor" id="autotoc_md13614"></a>
Message Objects</h1>
<p class="">Every log event is emitted with a message object, and the <code>log.record</code> list contains all of them that have been created. They have the following fields:</p>
<ul>
<li><code>id</code> {Number}</li>
<li><code>level</code> {String}</li>
<li><code>prefix</code> {String}</li>
<li><code>message</code> {String} Result of <code>util.format()</code></li>
<li><code>messageRaw</code> {Array} Arguments to <code>util.format()</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md13615"></a>
Blocking TTYs</h1>
<p class="">We use <a href="https://npmjs.com/package/set-blocking"><code>set-blocking</code></a> to set stderr and stdout blocking if they are tty's and have the setBlocking call. This is a work around for an issue in early versions of Node.js 6.x, which made stderr and stdout non-blocking on OSX. (They are always blocking Windows and were never blocking on Linux.) <code>npmlog</code> needs them to be blocking so that it can allow output to stdout and stderr to be interlaced. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
