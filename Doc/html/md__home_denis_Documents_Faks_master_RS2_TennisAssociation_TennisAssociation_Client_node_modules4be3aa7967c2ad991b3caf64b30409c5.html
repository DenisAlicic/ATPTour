<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tennis Association: Examples / Test Cases</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tennis Association
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle">
<div class="title">Examples / Test Cases </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class="">This folder contains a number of test cases which can also serve as usage examples.</p>
<p class="">Each folder contains a bog-standard Webpack project and an optional file <code>test.js</code> for more intricate tests.</p>
<h1><a class="anchor" id="autotoc_md2577"></a>
Adding a Test Case</h1>
<p class="">In order to create a new test case, it's probably best to start by copying an existing example. Simply copy the directory to a new name, then edit <code>README.md</code>, <code>webpack.config.js</code> and optionally <code>test.js</code>. You can run all examples using <code>yarn mocha</code>, or a specific example using &lsquo;yarn mocha --grep 'titlehere&rsquo;`.</p>
<p class="">The simplest kind of example is an end-to-end test. This is just a vanilla Webpack project: a <code>webpack.config.js</code> and any files that you want to bundle. To pass a test, such an example should provide an <code>index.html</code> and use <code>console.log</code> somewhere to output <code>ok</code> when loaded in a web browser. To fail, it should output <code>error</code>. (If it doesn't output either <code>ok</code> or <code>error</code> it will time out.)</p>
<p class="">However, end-to-end tests are also the slowest performing and aren't well suited to examining the Webpack build output. For your case it might be better to add a file <code>test.js</code> with contents as follows:</p>
<ul>
<li>For examining only webpack build output, export a function <code>check</code> with one argument <code>stats</code>:</li>
</ul>
<div class="fragment"><div class="line">module.exports.check = function check(stats) {</div>
<div class="line">}</div>
</div><!-- fragment --><p class="">The function should examine stats and throw in case of error. It can also return a promise.</p>
<ul>
<li>For examining Webpack build output with a web server serving the output spun up, add another argument <code>url</code>:</li>
</ul>
<div class="fragment"><div class="line">module.exports.check = function check(stats, url) {</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>If you want a Puppeteer browser instance, add yet another argument <code>browser</code>. Your tests will be skipped on Node versions &lt; 6.4.</li>
</ul>
<div class="fragment"><div class="line">module.exports.check = function check(stats, url, browser) {</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>You can export a function <code>skip</code> if you want to skip the test conditionally. The function should return a truthy value when the test should be skipped.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2578"></a>
Reference</h1>
<p class="">Any sub-directories of this directory are processed as follows:</p>
<p class="">Each sub-directory should contain a file called <code>webpack.config.js</code> which exports a standard Webpack configuration as default.</p>
<p class="">It can optionally contain a file called <code>test.js</code> with the following exports:</p>
<ul>
<li><p class="startli"><code>check</code>: a function that will be invoked after Webpack compilation finishes successfully. It should return a Promise that resolves if the test succeeds and rejects if it fails. Synchronous tests can also return a non-promise value or throw.</p>
<p class="startli">The function can receive between zero and three arguments. The first argument, if needed, is the <code>stats</code> object that the Webpack compilation returns. The second argument, if needed, is the URL of a web server hosting the results of the Webpack compilation. The third argument, if needed, is a Puppeteer browser instance.</p>
<p class="startli">If the function accepts all three arguments, it will only run on Node &gt;= 6.4 since that is the minimum requirement of Puppeteer. Therefore, don't specify the third argument if you don't need it so that your test can run on Node 4.</p>
<p class="startli">The web server will only be spun up if the function accepts two arguments or more. Therefore, don't specify the second argument if you don't need it so that your test runs faster.</p>
<p class="startli">If the <code>check</code> export is not present (or the whole <code>test.js</code> file is missing), a default check will be run. The default check ensures that there were no compilation errors, then loads <code>index.html</code> with Puppeteer and waits for it to log either <code>ok</code> or <code>error</code> to the console.</p>
</li>
<li><code>skip</code>: a function that, if present, will be invoked without arguments. Its return code determines whether the test should be skipped (truthy return value means to skip the test, falsey means to run it.) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
