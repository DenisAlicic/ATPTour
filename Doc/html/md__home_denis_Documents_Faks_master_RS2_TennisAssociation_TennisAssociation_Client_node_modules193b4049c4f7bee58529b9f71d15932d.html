<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tennis Association: Browserslist &lt;a href=&quot;https://cultofmartians.com/done.html&quot;&gt;&lt;img src=&quot;https://cultofmartians.com/assets/badges/badge.svg&quot; alt=&quot;Cult Of Martians&quot;/&gt;&lt;/a&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tennis Association
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle">
<div class="title">Browserslist <a href="https://cultofmartians.com/done.html"><img src="https://cultofmartians.com/assets/badges/badge.svg" alt="Cult Of Martians" style="pointer-events: none;" class="inline"/></a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class=""><img src="https://browserslist.github.io/browserslist/logo.svg" alt="Browserslist logo by Anton Lovchikov" style="pointer-events: none;" width="120" height="120" align="right" class="inline"/></p>
<p class="">The config to share target browsers and Node.js versions between different front-end tools. It is used in:</p>
<ul>
<li><a href="https://github.com/postcss/autoprefixer">Autoprefixer</a></li>
<li><a href="https://github.com/babel/babel/tree/master/packages/babel-preset-env">Babel</a></li>
<li><a href="https://github.com/jonathantneal/postcss-preset-env">postcss-preset-env</a></li>
<li><a href="https://github.com/amilajack/eslint-plugin-compat">eslint-plugin-compat</a></li>
<li><a href="https://github.com/ismay/stylelint-no-unsupported-browser-features">stylelint-no-unsupported-browser-features</a></li>
<li><a href="https://github.com/jonathantneal/postcss-normalize">postcss-normalize</a></li>
<li><a href="https://github.com/ElemeFE/obsolete-webpack-plugin">obsolete-webpack-plugin</a></li>
</ul>
<p class="">All tools will find target browsers automatically, when you add the following to <code>package.json</code>:</p>
<div class="fragment"><div class="line">&quot;browserslist&quot;: [</div>
<div class="line">  &quot;defaults&quot;,</div>
<div class="line">  &quot;not IE 11&quot;,</div>
<div class="line">  &quot;not IE_Mob 11&quot;,</div>
<div class="line">  &quot;maintained node versions&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><p class="">Or in <code>.browserslistrc</code> config:</p>
<div class="fragment"><div class="line"># Browsers that we support</div>
<div class="line"> </div>
<div class="line">defaults</div>
<div class="line">not IE 11</div>
<div class="line">not IE_Mob 11</div>
<div class="line">maintained node versions</div>
</div><!-- fragment --><p class="">Developers set their version lists using queries like <code>last 2 versions</code> to be free from updating versions manually. Browserslist will use <a href="https://github.com/ben-eb/caniuse-lite"><code>caniuse-lite</code></a> with <a href="https://caniuse.com/">Can I Use</a> data for this queries.</p>
<p class="">Browserslist will take queries from tool option, <code>browserslist</code> config, <code>.browserslistrc</code> config, <code>browserslist</code> section in <code>package.json</code> or environment variables.</p>
<p class=""><a href="https://github.com/browserslist/browserslist-example">Browserslist Example</a> shows how every tool uses Browserslist.</p>
<p class=""><a href="https://evilmartians.com/?utm_source=browserslist"><img src="https://evilmartians.com/badges/sponsored-by-evil-martians.svg" alt="Sponsored by Evil Martians" style="pointer-events: none;" width="236" height="54" class="inline"/> </a></p>
<h1><a class="anchor" id="autotoc_md25255"></a>
Table of Contents</h1>
<ul>
<li><a href="#tools">Tools</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#browsers-data-updating">Browsers Data Updating</a></li>
<li><a href="#queries">Queries</a><ul>
<li><a href="#query-composition">Query Composition</a></li>
<li><a href="#full-list">Full List</a></li>
<li><a href="#debug">Debug</a></li>
<li><a href="#browsers">Browsers</a></li>
</ul>
</li>
<li><a href="#config-file">Config File</a><ul>
<li><a href="#packagejson"><code>package.json</code></a></li>
<li><a href="#browserslistrc"><code>.browserslistrc</code></a></li>
</ul>
</li>
<li><a href="#shareable-configs">Shareable Configs</a></li>
<li><a href="#configuring-for-different-environments">Configuring for Different Environments</a></li>
<li><a href="#custom-usage-data">Custom Usage Data</a></li>
<li><a href="#js-api">JS API</a></li>
<li><a href="#environment-variables">Environment Variables</a></li>
<li><a href="#cache">Cache</a></li>
<li><a href="#security-contact">Security Contact</a></li>
<li><a href="#for-enterprise">For Enterprise</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md25256"></a>
Tools</h1>
<ul>
<li><a href="https://browserl.ist/"><code>browserl.ist</code></a> is an online tool to check what browsers will be selected by some query.</li>
<li><a href="https://github.com/browserslist/browserslist-ga"><code>browserslist-ga</code></a> and <a href="https://github.com/browserslist/browserslist-ga-export"><code>browserslist-ga-export</code></a> download your website browsers statistics to use it in <code>&gt; 0.5% in my stats</code> query.</li>
<li><a href="https://github.com/browserslist/browserslist-useragent-regexp"><code>browserslist-useragent-regexp</code></a> compiles Browserslist query to a RegExp to test browser useragent.</li>
<li><a href="https://github.com/browserslist/browserslist-useragent-ruby"><code>browserslist-useragent-ruby</code></a> is a Ruby library to checks browser by user agent string to match Browserslist.</li>
<li><a href="https://github.com/xeroxinteractive/browserslist-browserstack"><code>browserslist-browserstack</code></a> runs BrowserStack tests for all browsers in Browserslist config.</li>
<li><a href="https://github.com/xeroxinteractive/browserslist-adobe-analytics"><code>browserslist-adobe-analytics</code></a> use Adobe Analytics data to target browsers.</li>
<li><a href="https://github.com/Nyalab/caniuse-api"><code>caniuse-api</code></a> returns browsers which support some specific feature.</li>
<li>Run <code>npx browserslist</code> in your project directory to see project’s target browsers. This CLI tool is built-in and available in any project with Autoprefixer.</li>
</ul>
<h1><a class="anchor" id="autotoc_md25257"></a>
Best Practices</h1>
<ul>
<li>There is a <code>defaults</code> query, which gives a reasonable configuration for most users:</li>
</ul>
<div class="fragment"><div class="line">&quot;browserslist&quot;: [</div>
<div class="line">  &quot;defaults&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><ul>
<li>If you want to change the default set of browsers, we recommend combining <code>last 2 versions</code>, <code>not dead</code> with a usage number like <code>&gt; 0.2%</code>. This is because <code>last n versions</code> on its own does not add popular old versions, while only using a percentage above <code>0.2%</code> will in the long run make popular browsers even more popular. We might run into a monopoly and stagnation situation, as we had with Internet Explorer 6. Please use this setting with caution.</li>
<li>Select browsers directly (<code>last 2 Chrome versions</code>) only if you are making a web app for a kiosk with one browser. There are a lot of browsers on the market. If you are making general web app you should respect browsers diversity.</li>
<li>Don’t remove browsers just because you don’t know them. Opera Mini has 100 million users in Africa and it is more popular in the global market than Microsoft Edge. Chinese QQ Browsers has more market share than Firefox and desktop Safari combined.</li>
</ul>
<h1><a class="anchor" id="autotoc_md25258"></a>
Browsers Data Updating</h1>
<p class=""><code>npx browserslist@latest --update-db</code> updates <code>caniuse-lite</code> version in your npm, yarn or pnpm lock file.</p>
<p class="">You need to do it regularly for two reasons:</p>
<ol type="1">
<li>To use the latest browser’s versions and statistics in queries like <code>last 2 versions</code> or <code>&gt;1%</code>. For example, if you created your project 2 years ago and did not update your dependencies, <code>last 1 version</code> will return 2 year old browsers.</li>
<li><code>caiuse-lite</code> deduplication: to synchronize version in different tools.</li>
</ol>
<blockquote class="doxtable">
<p class="">What is deduplication? </p>
</blockquote>
<p>Due to how npm architecture is setup, you may have a situation where you have multiple versions of a single dependency required.</p>
<p class="">Imagine you begin a project, and you add <code>autoprefixer</code> as a dependency. npm looks for the latest <code>caniuse-lite</code> version (1.0.30000700) and adds it to <code>package-lock.json</code> under <code>autoprefixer</code> dependencies.</p>
<p class="">A year later, you decide to add Babel. At this moment, we have a new version of <code>canuse-lite</code> (1.0.30000900). npm took the latest version and added it to your lock file under <code>@babel/preset-env</code> dependencies.</p>
<p class="">Now your lock file looks like this:</p>
<div class="fragment"><div class="line">autoprefixer 7.1.4</div>
<div class="line">  browserslist 3.1.1</div>
<div class="line">    caniuse-lite 1.0.30000700</div>
<div class="line">@babel/preset-env 7.10.0</div>
<div class="line">  browserslist 4.13.0</div>
<div class="line">    caniuse-lite 1.0.30000900</div>
</div><!-- fragment --><p class="">As you can see, we now have two versions of <code>caniuse-lite</code> installed.</p>
<h1><a class="anchor" id="autotoc_md25259"></a>
Queries</h1>
<p class="">Browserslist will use browsers and Node.js versions query from one of these sources:</p>
<ol type="1">
<li><code>browserslist</code> key in <code>package.json</code> file in current or parent directories. <b>We recommend this way.</b></li>
<li><code>.browserslistrc</code> config file in current or parent directories.</li>
<li><code>browserslist</code> config file in current or parent directories.</li>
<li><code>BROWSERSLIST</code> environment variable.</li>
<li>If the above methods did not produce a valid result Browserslist will use defaults: <code>&gt; 0.5%, last 2 versions, Firefox ESR, not dead</code>.</li>
</ol>
<h2><a class="anchor" id="autotoc_md25260"></a>
Query Composition</h2>
<p class="">An <code>or</code> combiner can use the keyword <code>or</code> as well as <code>,</code>. <code>last 1 version or &gt; 1%</code> is equal to <code>last 1 version, &gt; 1%</code>.</p>
<p class=""><code>and</code> query combinations are also supported to perform an intersection of all the previous queries: <code>last 1 version or chrome &gt; 75 and &gt; 1%</code> will select (<code>browser last version</code> or <code>Chrome since 76</code>) and <code>more than 1% marketshare</code>.</p>
<p class="">There is 3 different ways to combine queries as depicted below. First you start with a single query and then we combine the queries to get our final list.</p>
<p class="">Obviously you can <em>not</em> start with a <code>not</code> combiner, since there is no left-hand side query to combine it with. The left-hand is always resolved as <code>and</code> combiner even if <code>or</code> is used (this is an API implementation specificity).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Query combiner type   </th><th class="markdownTableHeadCenter">Illustration   </th><th class="markdownTableHeadNone">Example    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>or</code>/<code>,</code> combiner <br  />
 (union)   </td><td class="markdownTableBodyCenter"><img src="img/union.svg" alt="Union of queries" style="pointer-events: none;" class="inline"/>   </td><td class="markdownTableBodyNone"><code>&gt; .5% or last 2 versions</code> <br  />
 <code>&gt; .5%, last 2 versions</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>and</code> combiner <br  />
 (intersection)   </td><td class="markdownTableBodyCenter"><img src="img/intersection.svg" alt="intersection of queries" style="pointer-events: none;" class="inline"/>   </td><td class="markdownTableBodyNone"><code>&gt; .5% and last 2 versions</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>not</code> combiner <br  />
 (relative complement)   </td><td class="markdownTableBodyCenter"><img src="img/complement.svg" alt="Relative complement of queries" style="pointer-events: none;" class="inline"/>   </td><td class="markdownTableBodyNone">All those three are equivalent to the first one <br  />
 <code>&gt; .5% and not last 2 versions</code> <br  />
 <code>&gt; .5% or not last 2 versions</code> <br  />
 <code>&gt; .5%, not last 2 versions</code>   </td></tr>
</table>
<p class="">_A quick way to test your query is to do &lsquo;npx browserslist &rsquo;&gt; 0.5%, not IE 11'` in your terminal._</p>
<h2><a class="anchor" id="autotoc_md25261"></a>
Full List</h2>
<p class="">You can specify the browser and Node.js versions by queries (case insensitive):</p>
<ul>
<li><code>defaults</code>: Browserslist’s default browsers (<code>&gt; 0.5%, last 2 versions, Firefox ESR, not dead</code>).</li>
<li><code>&gt; 5%</code>: browsers versions selected by global usage statistics. <code>&gt;=</code>, <code>&lt;</code> and <code>&lt;=</code> work too.<ul>
<li><code>&gt; 5% in US</code>: uses USA usage statistics. It accepts <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements">two-letter country code</a>.</li>
<li><code>&gt; 5% in alt-AS</code>: uses Asia region usage statistics. List of all region codes can be found at <a href="https://github.com/ben-eb/caniuse-lite/tree/master/data/regions"><code>caniuse-lite/data/regions</code></a>.</li>
<li><code>&gt; 5% in my stats</code>: uses <a href="#custom-usage-data">custom usage data</a>.</li>
<li><code>&gt; 5% in browserslist-config-mycompany stats</code>: uses <a href="#custom-usage-data">custom usage data</a> from <code>browserslist-config-mycompany/browserslist-stats.json</code>.</li>
<li><code>cover 99.5%</code>: most popular browsers that provide coverage.</li>
<li><code>cover 99.5% in US</code>: same as above, with <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements">two-letter country code</a>.</li>
<li><code>cover 99.5% in my stats</code>: uses <a href="#custom-usage-data">custom usage data</a>.</li>
</ul>
</li>
<li><code>dead</code>: browsers without official support or updates for 24 months. Right now it is <code>IE 10</code>, <code>IE_Mob 11</code>, <code>BlackBerry 10</code>, <code>BlackBerry 7</code>, <code>Samsung 4</code> and <code>OperaMobile 12.1</code>.</li>
<li><code>last 2 versions</code>: the last 2 versions for <em>each</em> browser.<ul>
<li><code>last 2 Chrome versions</code>: the last 2 versions of Chrome browser.</li>
<li><code>last 2 major versions</code> or <code>last 2 iOS major versions</code>: all minor/patch releases of last 2 major versions.</li>
</ul>
</li>
<li><code>node 10</code> and <code>node 10.4</code>: selects latest Node.js <code>10.x.x</code> or <code>10.4.x</code> release.<ul>
<li><code>current node</code>: Node.js version used by Browserslist right now.</li>
<li><code>maintained node versions</code>: all Node.js versions, which are <a href="https://github.com/nodejs/Release">still maintained</a> by Node.js Foundation.</li>
</ul>
</li>
<li><code>iOS 7</code>: the iOS browser version 7 directly.<ul>
<li><code>Firefox &gt; 20</code>: versions of Firefox newer than 20. <code>&gt;=</code>, <code>&lt;</code> and <code>&lt;=</code> work too. It also works with Node.js.</li>
<li><code>ie 6-8</code>: selects an inclusive range of versions.</li>
<li><code>Firefox ESR</code>: the latest [Firefox ESR] version.</li>
<li><code>PhantomJS 2.1</code> and <code>PhantomJS 1.9</code>: selects Safari versions similar to PhantomJS runtime.</li>
</ul>
</li>
<li><code>extends browserslist-config-mycompany</code>: take queries from <code>browserslist-config-mycompany</code> npm package.</li>
<li><code>supports es6-module</code>: browsers with support for specific features. <code>es6-module</code> here is the <code>feat</code> parameter at the URL of the <a href="https://caniuse.com/">Can I Use</a> page. A list of all available features can be found at <a href="https://github.com/ben-eb/caniuse-lite/tree/master/data/features"><code>caniuse-lite/data/features</code></a>.</li>
<li><code>since 2015</code> or <code>last 2 years</code>: all versions released since year 2015 (also <code>since 2015-03</code> and <code>since 2015-03-10</code>).</li>
<li><code>unreleased versions</code> or <code>unreleased Chrome versions</code>: alpha and beta versions.</li>
<li><code>not ie &lt;= 8</code>: exclude browsers selected by previous queries.</li>
</ul>
<p class="">You can add <code>not</code> to any query.</p>
<h2><a class="anchor" id="autotoc_md25262"></a>
Debug</h2>
<p class="">Run <code>npx browserslist</code> in project directory to see what browsers was selected by your queries.</p>
<div class="fragment"><div class="line">$ npx browserslist</div>
<div class="line">and_chr 61</div>
<div class="line">and_ff 56</div>
<div class="line">and_qq 1.2</div>
<div class="line">and_uc 11.4</div>
<div class="line">android 56</div>
<div class="line">baidu 7.12</div>
<div class="line">bb 10</div>
<div class="line">chrome 62</div>
<div class="line">edge 16</div>
<div class="line">firefox 56</div>
<div class="line">ios_saf 11</div>
<div class="line">opera 48</div>
<div class="line">safari 11</div>
<div class="line">samsung 5</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25263"></a>
Browsers</h2>
<p class="">Names are case insensitive:</p>
<ul>
<li><code>Android</code> for Android WebView.</li>
<li><code>Baidu</code> for Baidu Browser.</li>
<li><code>BlackBerry</code> or <code>bb</code> for Blackberry browser.</li>
<li><code>Chrome</code> for Google Chrome.</li>
<li><code>ChromeAndroid</code> or <code>and_chr</code> for Chrome for Android</li>
<li><code>Edge</code> for Microsoft Edge.</li>
<li><code>Electron</code> for Electron framework. It will be converted to Chrome version.</li>
<li><code>Explorer</code> or <code>ie</code> for Internet Explorer.</li>
<li><code>ExplorerMobile</code> or <code>ie_mob</code> for Internet Explorer Mobile.</li>
<li><code>Firefox</code> or <code>ff</code> for Mozilla Firefox.</li>
<li><code>FirefoxAndroid</code> or <code>and_ff</code> for Firefox for Android.</li>
<li><code>iOS</code> or <code>ios_saf</code> for iOS Safari.</li>
<li><code>Node</code> for Node.js.</li>
<li><code>Opera</code> for Opera.</li>
<li><code>OperaMini</code> or <code>op_mini</code> for Opera Mini.</li>
<li><code>OperaMobile</code> or <code>op_mob</code> for Opera Mobile.</li>
<li><code>QQAndroid</code> or <code>and_qq</code> for QQ Browser for Android.</li>
<li><code>Safari</code> for desktop Safari.</li>
<li><code>Samsung</code> for Samsung Internet.</li>
<li><code>UCAndroid</code> or <code>and_uc</code> for UC Browser for Android.</li>
<li><code>kaios</code> for KaiOS Browser.</li>
</ul>
<h1><a class="anchor" id="autotoc_md25264"></a>
Config File</h1>
<h2><a class="anchor" id="autotoc_md25265"></a>
&lt;tt&gt;package.json&lt;/tt&gt;</h2>
<p class="">If you want to reduce config files in project root, you can specify browsers in <code>package.json</code> with <code>browserslist</code> key:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;private&quot;: true,</div>
<div class="line">  &quot;dependencies&quot;: {</div>
<div class="line">    &quot;autoprefixer&quot;: &quot;^6.5.4&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;browserslist&quot;: [</div>
<div class="line">    &quot;last 1 version&quot;,</div>
<div class="line">    &quot;&gt; 1%&quot;,</div>
<div class="line">    &quot;IE 10&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25266"></a>
&lt;tt&gt;.browserslistrc&lt;/tt&gt;</h2>
<p class="">Separated Browserslist config should be named <code>.browserslistrc</code> and have browsers queries split by a new line. Each line is combined with the <code>or</code> combiner. Comments starts with <code>#</code> symbol:</p>
<div class="fragment"><div class="line"># Browsers that we support</div>
<div class="line"> </div>
<div class="line">last 1 version</div>
<div class="line">&gt; 1%</div>
<div class="line">IE 10 # sorry</div>
</div><!-- fragment --><p class="">Browserslist will check config in every directory in <code>path</code>. So, if tool process <code>app/styles/main.css</code>, you can put config to root, <code>app/</code> or <code>app/styles</code>.</p>
<p class="">You can specify direct path in <code>BROWSERSLIST_CONFIG</code> environment variables.</p>
<h1><a class="anchor" id="autotoc_md25267"></a>
Shareable Configs</h1>
<p class="">You can use the following query to reference an exported Browserslist config from another package:</p>
<div class="fragment"><div class="line">&quot;browserslist&quot;: [</div>
<div class="line">  &quot;extends browserslist-config-mycompany&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><p class="">For security reasons, external configuration only supports packages that have the <code>browserslist-config-</code> prefix. npm scoped packages are also supported, by naming or prefixing the module with <code>@scope/browserslist-config</code>, such as <code>@scope/browserslist-config</code> or <code>@scope/browserslist-config-mycompany</code>.</p>
<p class="">If you don’t accept Browserslist queries from users, you can disable the validation by using the or <code>BROWSERSLIST_DANGEROUS_EXTEND</code> environment variable or <code>dangerousExtend</code> option.</p>
<div class="fragment"><div class="line">BROWSERSLIST_DANGEROUS_EXTEND=1 npx webpack</div>
</div><!-- fragment --><p class="">Because this uses <code>npm</code>'s resolution, you can also reference specific files in a package:</p>
<div class="fragment"><div class="line">&quot;browserslist&quot;: [</div>
<div class="line">  &quot;extends browserslist-config-mycompany/desktop&quot;,</div>
<div class="line">  &quot;extends browserslist-config-mycompany/mobile&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><p class="">When writing a shared Browserslist package, just export an array. <code>browserslist-config-mycompany/index.js</code>:</p>
<div class="fragment"><div class="line">module.exports = [</div>
<div class="line">  &#39;last 1 version&#39;,</div>
<div class="line">  &#39;&gt; 1%&#39;,</div>
<div class="line">  &#39;ie 10&#39;</div>
<div class="line">]</div>
</div><!-- fragment --><p class="">You can also include a <code>browserslist-stats.json</code> file as part of your shareable config at the root and query it using <code>&gt; 5% in browserslist-config-mycompany stats</code>. It uses the same format as <code>extends</code> and the <code>dangerousExtend</code> property as above.</p>
<p class="">You can export configs for different environments and select environment by <code>BROWSERSLIST_ENV</code> or <code>env</code> option in your tool:</p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  development: [</div>
<div class="line">    &#39;last 1 version&#39;</div>
<div class="line">  ],</div>
<div class="line">  production: [</div>
<div class="line">    &#39;last 1 version&#39;,</div>
<div class="line">    &#39;&gt; 1%&#39;,</div>
<div class="line">    &#39;ie 10&#39;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md25268"></a>
Configuring for Different Environments</h1>
<p class="">You can also specify different browser queries for various environments. Browserslist will choose query according to <code>BROWSERSLIST_ENV</code> or <code>NODE_ENV</code> variables. If none of them is declared, Browserslist will firstly look for <code>production</code> queries and then use defaults.</p>
<p class="">In <code>package.json</code>:</p>
<div class="fragment"><div class="line">&quot;browserslist&quot;: {</div>
<div class="line">  &quot;production&quot;: [</div>
<div class="line">    &quot;&gt; 1%&quot;,</div>
<div class="line">    &quot;ie 10&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;modern&quot;: [</div>
<div class="line">    &quot;last 1 chrome version&quot;,</div>
<div class="line">    &quot;last 1 firefox version&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;ssr&quot;: [</div>
<div class="line">    &quot;node 12&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p class="">In <code>.browserslistrc</code> config:</p>
<div class="fragment"><div class="line">[production]</div>
<div class="line">&gt; 1%</div>
<div class="line">ie 10</div>
<div class="line"> </div>
<div class="line">[modern]</div>
<div class="line">last 1 chrome version</div>
<div class="line">last 1 firefox version</div>
<div class="line"> </div>
<div class="line">[ssr]</div>
<div class="line">node 12</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md25269"></a>
Custom Usage Data</h1>
<p class="">If you have a website, you can query against the usage statistics of your site. <a href="https://github.com/browserslist/browserslist-ga"><code>browserslist-ga</code></a> will ask access to Google Analytics and then generate <code>browserslist-stats.json</code>:</p>
<div class="fragment"><div class="line">npx browserslist-ga</div>
</div><!-- fragment --><p class="">Or you can use <a href="https://github.com/browserslist/browserslist-ga-export"><code>browserslist-ga-export</code></a> to convert Google Analytics data without giving a password for Google account.</p>
<p class="">You can generate usage statistics file by any other method. File format should be like:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;ie&quot;: {</div>
<div class="line">    &quot;6&quot;: 0.01,</div>
<div class="line">    &quot;7&quot;: 0.4,</div>
<div class="line">    &quot;8&quot;: 1.5</div>
<div class="line">  },</div>
<div class="line">  &quot;chrome&quot;: {</div>
<div class="line">    …</div>
<div class="line">  },</div>
<div class="line">  …</div>
<div class="line">}</div>
</div><!-- fragment --><p class="">Note that you can query against your custom usage data while also querying against global or regional data. For example, the query <code>&gt; 1% in my stats, &gt; 5% in US, 10%</code> is permitted.</p>
<h1><a class="anchor" id="autotoc_md25270"></a>
JS API</h1>
<div class="fragment"><div class="line">const browserslist = require(&#39;browserslist&#39;)</div>
<div class="line"> </div>
<div class="line">// Your CSS/JS build tool code</div>
<div class="line">function process (source, opts) {</div>
<div class="line">  const browsers = browserslist(opts.overrideBrowserslist, {</div>
<div class="line">    stats: opts.stats,</div>
<div class="line">    path:  opts.file,</div>
<div class="line">    env:   opts.env</div>
<div class="line">  })</div>
<div class="line">  // Your code to add features for selected browsers</div>
<div class="line">}</div>
</div><!-- fragment --><p class="">Queries can be a string <code>"&gt; 1%, IE 10"</code> or an array &lsquo;[&rsquo;&gt; 1', 'IE 10']`.</p>
<p class="">If a query is missing, Browserslist will look for a config file. You can provide a <code>path</code> option (that can be a file) to find the config file relatively to it.</p>
<p class="">Options:</p>
<ul>
<li><code>path</code>: file or a directory path to look for config file. Default is <code>.</code>.</li>
<li><code>env</code>: what environment section use from config. Default is <code>production</code>.</li>
<li><code>stats</code>: custom usage statistics data.</li>
<li><code>config</code>: path to config if you want to set it manually.</li>
<li><code>ignoreUnknownVersions</code>: do not throw on direct query (like <code>ie 12</code>). Default is <code>false.</code></li>
<li><code>dangerousExtend</code>: Disable security checks for <code>extend</code> query. Default is <code>false.</code></li>
<li><code>mobileToDesktop</code>: Use desktop browsers if Can I Use doesn’t have data about this mobile version. For instance, Browserslist will return <code>chrome 20</code> on <code>and_chr 20</code> query (Can I Use has only data only about latest versions of mobile browsers). Default is <code>false</code>.</li>
</ul>
<p class="">For non-JS environment and debug purpose you can use CLI tool:</p>
<div class="fragment"><div class="line">browserslist &quot;&gt; 1%, IE 10&quot;</div>
</div><!-- fragment --><p class="">You can get total users coverage for selected browsers by JS API:</p>
<div class="fragment"><div class="line">browserslist.coverage(browserslist(&#39;&gt; 1%&#39;))</div>
<div class="line">//=&gt; 81.4</div>
</div><!-- fragment --><div class="fragment"><div class="line">browserslist.coverage(browserslist(&#39;&gt; 1% in US&#39;), &#39;US&#39;)</div>
<div class="line">//=&gt; 83.1</div>
</div><!-- fragment --><div class="fragment"><div class="line">browserslist.coverage(browserslist(&#39;&gt; 1% in my stats&#39;), &#39;my stats&#39;)</div>
<div class="line">//=&gt; 83.1</div>
</div><!-- fragment --><div class="fragment"><div class="line">browserslist.coverage(browserslist(&#39;&gt; 1% in my stats&#39;, { stats }), stats)</div>
<div class="line">//=&gt; 82.2</div>
</div><!-- fragment --><p class="">Or by CLI:</p>
<div class="fragment"><div class="line">$ browserslist --coverage &quot;&gt; 1%&quot;</div>
<div class="line">These browsers account for 81.4% of all users globally</div>
</div><!-- fragment --><div class="fragment"><div class="line">$ browserslist --coverage=US &quot;&gt; 1% in US&quot;</div>
<div class="line">These browsers account for 83.1% of all users in the US</div>
</div><!-- fragment --><div class="fragment"><div class="line">$ browserslist --coverage &quot;&gt; 1% in my stats&quot;</div>
<div class="line">These browsers account for 83.1% of all users in custom statistics</div>
</div><!-- fragment --><div class="fragment"><div class="line">$ browserslist --coverage &quot;&gt; 1% in my stats&quot; --stats=./stats.json</div>
<div class="line">These browsers account for 83.1% of all users in custom statistics</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md25271"></a>
Environment Variables</h1>
<p class="">If a tool uses Browserslist inside, you can change the Browserslist settings with [environment variables]:</p>
<ul>
<li><code>BROWSERSLIST</code> with browsers queries.</li>
</ul>
<div class="fragment"><div class="line">BROWSERSLIST=&quot;&gt; 5%&quot; npx webpack</div>
</div><!-- fragment --><ul>
<li><code>BROWSERSLIST_CONFIG</code> with path to config file.</li>
</ul>
<div class="fragment"><div class="line">BROWSERSLIST_CONFIG=./config/browserslist npx webpack</div>
</div><!-- fragment --><ul>
<li><code>BROWSERSLIST_ENV</code> with environments string.</li>
</ul>
<div class="fragment"><div class="line">BROWSERSLIST_ENV=&quot;development&quot; npx webpack</div>
</div><!-- fragment --><ul>
<li><code>BROWSERSLIST_STATS</code> with path to the custom usage data for <code>&gt; 1% in my stats</code> query.</li>
</ul>
<div class="fragment"><div class="line">BROWSERSLIST_STATS=./config/usage_data.json npx webpack</div>
</div><!-- fragment --><ul>
<li><code>BROWSERSLIST_DISABLE_CACHE</code> if you want to disable config reading cache.</li>
</ul>
<div class="fragment"><div class="line">BROWSERSLIST_DISABLE_CACHE=1 npx webpack</div>
</div><!-- fragment --><ul>
<li><code>BROWSERSLIST_DANGEROUS_EXTEND</code> to disable security shareable config name check.</li>
</ul>
<div class="fragment"><div class="line">BROWSERSLIST_DANGEROUS_EXTEND=1 npx webpack</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md25272"></a>
Cache</h1>
<p class="">Browserslist caches the configuration it reads from <code>package.json</code> and <code>browserslist</code> files, as well as knowledge about the existence of files, for the duration of the hosting process.</p>
<p class="">To clear these caches, use:</p>
<div class="fragment"><div class="line">browserslist.clearCaches()</div>
</div><!-- fragment --><p class="">To disable the caching altogether, set the <code>BROWSERSLIST_DISABLE_CACHE</code> environment variable.</p>
<h1><a class="anchor" id="autotoc_md25273"></a>
Security Contact</h1>
<p class="">To report a security vulnerability, please use the <a href="https://tidelift.com/security">Tidelift security contact</a>. Tidelift will coordinate the fix and disclosure.</p>
<h1><a class="anchor" id="autotoc_md25274"></a>
For Enterprise</h1>
<p class="">Available as part of the Tidelift Subscription.</p>
<p class="">The maintainers of <code>browserslist</code> and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. <a href="https://tidelift.com/subscription/pkg/npm-browserslist?utm_source=npm-browserslist&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo">Learn more.</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
