<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tennis Association: libnpmteam</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tennis Association
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle">
<div class="title">libnpmteam </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class=""><a href="https://npm.im/libnpmteam"><img src="https://img.shields.io/npm/v/libnpmteam.svg" alt="npm version" style="pointer-events: none;" class="inline"/></a> <a href="https://npm.im/libnpmteam"><img src="https://img.shields.io/npm/l/libnpmteam.svg" alt="license" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/npm/libnpmteam/workflows/Node%20CI/badge.svg"><img src="https://github.com/npm/libnpmteam/workflows/Node%20CI/badge.svg" alt="GitHub Actions" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/github/npm/libnpmteam?branch=latest"><img src="https://coveralls.io/repos/github/npm/libnpmteam/badge.svg?branch=latest" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a></p>
<p class=""><a href="https://github.com/npm/libnpmteam"><code>libnpmteam</code></a> is a Node.js library that provides programmatic access to the guts of the npm CLI's <code>npm team</code> command and its various subcommands.</p>
<h1><a class="anchor" id="autotoc_md17084"></a>
Example</h1>
<div class="fragment"><div class="line">const access = require(&#39;libnpmteam&#39;)</div>
<div class="line"> </div>
<div class="line">// List all teams for the @npm org.</div>
<div class="line">console.log(await team.lsTeams(&#39;npm&#39;))</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17085"></a>
Publishing</h1>
<ol type="1">
<li>Manually create CHANGELOG.md file</li>
</ol>
<ol type="1">
<li>Commit changes to CHANGELOG.md ```bash $ git commit -m "chore: updated CHANGELOG.md" ``<code></code></li>
</ol>
<ol type="1">
<li><code>Run</code>npm version {newVersion}<code> </code>``bash </li>
</ol>
<h1><a class="anchor" id="autotoc_md17086"></a>
Example</h1>
<p class="">$ npm version patch </p>
<h1><a class="anchor" id="autotoc_md17087"></a>
1. Runs &lt;tt&gt;coverage&lt;/tt&gt; and &lt;tt&gt;lint&lt;/tt&gt; scripts</h1>
<h1><a class="anchor" id="autotoc_md17088"></a>
2. Bumps package version; and &lt;strong&gt;create commit/tag&lt;/strong&gt;</h1>
<h1><a class="anchor" id="autotoc_md17089"></a>
3. Runs &lt;tt&gt;npm publish&lt;/tt&gt;; publishing directory with &lt;strong&gt;unpushed commit&lt;/strong&gt;</h1>
<h1><a class="anchor" id="autotoc_md17090"></a>
4. Runs &lt;tt&gt;git push origin --follow-tags&lt;/tt&gt;</h1>
<p class="">```</p>
<h2><a class="anchor" id="autotoc_md17091"></a>
Table of Contents</h2>
<ul>
<li><a href="#install">Installing</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#api">API</a><ul>
<li><a href="#opts">team opts</a></li>
<li><a href="#create"><code>create()</code></a></li>
<li><a href="#destroy"><code>destroy()</code></a></li>
<li><a href="#add"><code>add()</code></a></li>
<li><a href="#rm"><code>rm()</code></a></li>
<li><a href="#ls-teams"><code>lsTeams()</code></a></li>
<li><a href="#ls-teams-stream"><code>lsTeams.stream()</code></a></li>
<li><a href="#ls-users"><code>lsUsers()</code></a></li>
<li><a href="#ls-users-stream"><code>lsUsers.stream()</code></a></li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md17092"></a>
Install</h3>
<p class=""><code>$ npm install libnpmteam</code></p>
<h3><a class="anchor" id="autotoc_md17093"></a>
API</h3>
<h4><a class="anchor" id="autotoc_md17094"></a>
&lt;a name="opts"&gt;&lt;/a&gt; &lt;tt&gt;opts&lt;/tt&gt; for &lt;tt&gt;libnpmteam&lt;/tt&gt; commands</h4>
<p class=""><code>libnpmteam</code> uses <a href="https://npm.im/npm-registry-fetch"><code>npm-registry-fetch</code></a>. All options are passed through directly to that library, so please refer to [its own <code>opts</code> documentation](<a href="https://www.npmjs.com/package/npm-registry-fetch#fetch-options">https://www.npmjs.com/package/npm-registry-fetch#fetch-options</a>) for options that can be passed in.</p>
<p class="">A couple of options of note for those in a hurry:</p>
<ul>
<li><code>opts.token</code> - can be passed in and will be used as the authentication token for the registry. For other ways to pass in auth details, see the n-r-f docs.</li>
<li><code>opts.otp</code> - certain operations will require an OTP token to be passed in. If a <code>libnpmteam</code> command fails with <code>err.code === EOTP</code>, please retry the request with <code>{otp: &lt;2fa token&gt;}</code></li>
</ul>
<h4><a class="anchor" id="autotoc_md17095"></a>
&lt;a name="create"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.create(team, [opts]) -&gt; Promise&lt;/tt&gt;</h4>
<p class="">Creates a team named <code>team</code>. Team names use the format <code>@&lt;scope&gt;:&lt;name&gt;</code>, with the <code>@</code> being optional.</p>
<p class="">Additionally, <code>opts.description</code> may be passed in to include a description.</p>
<p class=""><a class="anchor" id="autotoc_md17096"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">await team.create(&#39;@npm:cli&#39;, {token: &#39;myregistrytoken&#39;})</div>
<div class="line">// The @npm:cli team now exists.</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17097"></a>
&lt;a name="destroy"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.destroy(team, [opts]) -&gt; Promise&lt;/tt&gt;</h4>
<p class="">Destroys a team named <code>team</code>. Team names use the format <code>@&lt;scope&gt;:&lt;name&gt;</code>, with the <code>@</code> being optional.</p>
<p class=""><a class="anchor" id="autotoc_md17098"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">await team.destroy(&#39;@npm:cli&#39;, {token: &#39;myregistrytoken&#39;})</div>
<div class="line">// The @npm:cli team has been destroyed.</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17099"></a>
&lt;a name="add"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.add(user, team, [opts]) -&gt; Promise&lt;/tt&gt;</h4>
<p class="">Adds <code>user</code> to <code>team</code>.</p>
<p class=""><a class="anchor" id="autotoc_md17100"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">await team.add(&#39;zkat&#39;, &#39;@npm:cli&#39;, {token: &#39;myregistrytoken&#39;})</div>
<div class="line">// @zkat now belongs to the @npm:cli team.</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17101"></a>
&lt;a name="rm"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.rm(user, team, [opts]) -&gt; Promise&lt;/tt&gt;</h4>
<p class="">Removes <code>user</code> from <code>team</code>.</p>
<p class=""><a class="anchor" id="autotoc_md17102"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">await team.rm(&#39;zkat&#39;, &#39;@npm:cli&#39;, {token: &#39;myregistrytoken&#39;})</div>
<div class="line">// @zkat is no longer part of the @npm:cli team.</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17103"></a>
&lt;a name="ls-teams"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.lsTeams(scope, [opts]) -&gt; Promise&lt;/tt&gt;</h4>
<p class="">Resolves to an array of team names belonging to <code>scope</code>.</p>
<p class=""><a class="anchor" id="autotoc_md17104"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">await team.lsTeams(&#39;@npm&#39;, {token: &#39;myregistrytoken&#39;})</div>
<div class="line">=&gt;</div>
<div class="line">[</div>
<div class="line">  &#39;npm:cli&#39;,</div>
<div class="line">  &#39;npm:web&#39;,</div>
<div class="line">  &#39;npm:registry&#39;,</div>
<div class="line">  &#39;npm:developers&#39;</div>
<div class="line">]</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17105"></a>
&lt;a name="ls-teams-stream"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.lsTeams.stream(scope, [opts]) -&gt; Stream&lt;/tt&gt;</h4>
<p class="">Returns a stream of teams belonging to <code>scope</code>.</p>
<p class="">For a Promise-based version of these results, see <a href="#ls-teams"><code>team.lsTeams()</code></a>.</p>
<p class=""><a class="anchor" id="autotoc_md17106"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">for await (let team of team.lsTeams.stream(&#39;@npm&#39;, {token: &#39;myregistrytoken&#39;})) {</div>
<div class="line">  console.log(team)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// outputs</div>
<div class="line">// npm:cli</div>
<div class="line">// npm:web</div>
<div class="line">// npm:registry</div>
<div class="line">// npm:developers</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17107"></a>
&lt;a name="ls-users"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.lsUsers(team, [opts]) -&gt; Promise&lt;/tt&gt;</h4>
<p class="">Resolves to an array of usernames belonging to <code>team</code>.</p>
<p class="">For a streamed version of these results, see <a href="#ls-users-stream"><code>team.lsUsers.stream()</code></a>.</p>
<p class=""><a class="anchor" id="autotoc_md17108"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">await team.lsUsers(&#39;@npm:cli&#39;, {token: &#39;myregistrytoken&#39;})</div>
<div class="line">=&gt;</div>
<div class="line">[</div>
<div class="line">  &#39;iarna&#39;,</div>
<div class="line">  &#39;zkat&#39;</div>
<div class="line">]</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md17109"></a>
&lt;a name="ls-users-stream"&gt;&lt;/a&gt; &lt;tt&gt;&gt; team.lsUsers.stream(team, [opts]) -&gt; Stream&lt;/tt&gt;</h4>
<p class="">Returns a stream of usernames belonging to <code>team</code>.</p>
<p class="">For a Promise-based version of these results, see <a href="#ls-users"><code>team.lsUsers()</code></a>.</p>
<p class=""><a class="anchor" id="autotoc_md17110"></a> </p><h5>Example</h5>
<div class="fragment"><div class="line">for await (let user of team.lsUsers.stream(&#39;@npm:cli&#39;, {token: &#39;myregistrytoken&#39;})) {</div>
<div class="line">  console.log(user)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// outputs</div>
<div class="line">// iarna</div>
<div class="line">// zkat</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
